<core:FragmentDefinition
   xmlns="sap.m"
   xmlns:form="sap.ui.layout.form"
   xmlns:layout="sap.ui.layout"
   xmlns:core="sap.ui.core">
   <Dialog
      id="newRouteDialog"
      contentWidth="600px"
      contentHeight="auto">
      <customHeader>
         <Bar>
            <contentMiddle>
               <Title text="{i18n>createNewRoute}" level="H2" />
            </contentMiddle>
            <contentRight>
               <Button icon="sap-icon://decline" press=".onCloseDialog" />
            </contentRight>
         </Bar>
      </customHeader>
      <content>
         <form:SimpleForm id="createRouteForm"
            editable="true"
            layout="ResponsiveGridLayout"
            labelSpanXL="4"
            labelSpanL="4"
            labelSpanM="4"
            labelSpanS="3"
            adjustLabelSpan="false"
            emptySpanXL="0"
            emptySpanL="0"
            emptySpanM="0"
            emptySpanS="0"
            columnsXL="1"
            columnsL="1"
            columnsM="1"
            singleContainerFullSize="true">
            <form:content>
               <Label text="{i18n>routeName}" />
               <Input placeholder="{i18n>enterRouteName}" value="{bouldering>name}" />
               <Label text="{i18n>grade}" />
               <ComboBox id="gradesComboBox"
                  items="{valueHelpBouldering>value}" 
                  change=".onValidateComboBox"
                  selectedKey="{bouldering>officialGrade}">
                  <customData>
                     <core:CustomData key="function" value="/getGrades(...)" />
                     <core:CustomData key="identifier" value="grades" />
                  </customData>
                  <core:Item key="{valueHelpBouldering>identifier}" text="{valueHelpBouldering>content}" />
               </ComboBox>
               <Label text="{i18n>amountHolds}" />
               <Input type="Number" value="{bouldering>amountOfHolds}" />
               <Label text="{i18n>wallType}" />
               <ComboBox id="wallsComboBox" 
                  items="{valueHelpBouldering>value}"
                  change=".onValidateComboBox"
                  selectedKey="{bouldering>wallType}">
                  <customData>
                     <core:CustomData key="function" value="/getWalls(...)" />
                     <core:CustomData key="identifier" value="walls" />
                  </customData>
                  <core:Item key="{valueHelpBouldering>identifier}" text="{valueHelpBouldering>content}" />
               </ComboBox>
               <Label text="{i18n>tags}" />
               <MultiComboBox
                  items="{valueHelpBouldering>/Tags}"
                  selectedKeys="{path: 'bouldering>tags', targetType: 'any', formatter: '.formatTagsForMultiComboBox'}">
                  <core:Item key="{valueHelpBouldering>ID}" text="{valueHelpBouldering>tagText}" />
               </MultiComboBox>
               <Label text="{i18n>active}" />
               <CheckBox selected="{bouldering>active}" />
               <Label text="{i18n>removedAt}" />
               <DatePicker value="{bouldering>removedAt}" />
            </form:content>
         </form:SimpleForm>
      </content>
      <beginButton>
         <Button text="{i18n>create}" type="Emphasized" press=".onCreateRoute" />
      </beginButton>
      <endButton>
         <Button text="{i18n>cancel}" press=".onCloseDialog" />
      </endButton>
    </Dialog>
</core:FragmentDefinition>